(this.webpackJsonpbigview=this.webpackJsonpbigview||[]).push([[0],{38:function(e,t,a){e.exports=a(52)},43:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a.n(n),o=a(36),c=a.n(o),i=(a(43),a(24)),l=a(11),u=a(30),s=a(31),m=(a(53),a(54),s.a.initializeApp({apiKey:"AIzaSyCrtQIxH31zKl7pbT4xZnoe0pXaiPnwrWY",authDomain:"photo-gallery-app-76ff2.firebaseapp.com",projectId:"photo-gallery-app-76ff2",storageBucket:"photo-gallery-app-76ff2.appspot.com",messagingSenderId:"142065378163",appId:"1:142065378163:web:7ea4d7279b76174f839b06"})),h=s.a.storage(),d=s.a.firestore(),f=s.a.firestore.FieldValue.serverTimestamp,g=Object(u.b)(m),p=new u.a,b=a(56),v=a(29),E=function(e){var t=e.url;return r.a.createElement("div",null,r.a.createElement(b.a.a,{href:t,download:!0,onClick:function(e){console.log(1),e.stopPropagation()},className:"download-image",whileHover:{opacity:1}},r.a.createElement(v.a,null)),r.a.createElement(b.a.img,{src:t,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}}))},y=function(e){var t=e.docs,a=e.setSelectedImg;return r.a.createElement("div",{className:"img-grid"},t&&t.map((function(e){return r.a.createElement(b.a.div,{className:"img-wrap",key:e.id,layout:!0,whileHover:{opacity:1},onClick:function(){return a(e.url)}},r.a.createElement(E,{url:e.url}))})))};a(46),a(47);function O(e){var t=e.url,a=e.zoom,o=Object(n.useState)(!1),c=Object(l.a)(o,2),u=c[0],s=c[1],m=Object(n.useState)({top:0,left:0}),h=Object(l.a)(m,2),d=h[0],f=h[1],g=Object(n.useRef)(null);Object(n.useEffect)((function(){g.current.onmouseleave=b,g.current.onmousemove=p}),[]);var p=function(e){var t=e.offsetX,n=e.offsetY,r=e.currentTarget,o=r.offsetWidth,c=r.offsetHeight,i=Math.min(Math.max(t/o*100,0),100)*(a-1)*-1,l=Math.min(Math.max(n/c*100,0),100)*(a-1)*-1;s(!0),f({top:"".concat(l,"%"),left:"".concat(i,"%")})},b=function(){s(!1)},v=Object(i.a)({backgroundImage:"url('".concat(t,"')"),transform:"scale(".concat(a,")")},d);return r.a.createElement("div",{ref:g,className:"img-zoomable "+(u?"img-zoomable--active":"")},u?r.a.createElement(j,{style:v}):null,r.a.createElement("img",{src:t}))}var j=function(e){return r.a.createElement("div",{className:"img-zoomable_item",style:e.style})},w=function(e){var t=e.setSelectedImg,a=e.selectedImg;return r.a.createElement(b.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&t(null)},initial:{opacity:0},animate:{opacity:1}},r.a.createElement(b.a.div,{className:"backdrop-img",initial:{y:"-100vh"},animate:{y:0}},r.a.createElement(O,{url:a,zoom:5})))},k=a(23),S=(a(48),a(49),function(e){var t=e.children,a=Object(k.a)(e,["children"]);return r.a.createElement("div",{className:"btn",onClick:a.onClick},t)}),I=(a(50),"BigView"),N="Beauty Pictures",q="Your Pictures",A={width:"30px",height:"30px"},L=function(e){var t=e.user,a=Object(k.a)(e,["user"]);return r.a.createElement("div",{className:"navbar-wrap"},r.a.createElement(b.a.h1,{className:"logo",whileHover:{cursor:"pointer",color:"var(--primary-bold)"},onClick:a.clickLogo},I),r.a.createElement("div",{className:"navbar"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a.img,{className:"avatar",src:t.imageUrl,alt:"avatar",whileHover:{opacity:1},onClick:a.getDocsOfUser}),r.a.createElement(S,{onClick:a.handleLogout},r.a.createElement(v.c,{style:A}))):r.a.createElement(S,{onClick:a.handleLogin},r.a.createElement(v.b,{style:A}))))},x=[{quote:"If your photos aren\u2019t good enough, then you\u2019re not close enough.",author:"Robert Capa"},{quote:"In photography there is a reality so subtle that it becomes more real than reality.",author:"Alfred Stieglitz"},{quote:"There is one thing the photograph must contain, the humanity of the moment.",author:"Robert Frank"},{quote:"Taking an image, freezing a moment, reveals how rich reality truly is.",author:"Anonymous"},{quote:"When I have a camera in my hand, I know no fear.",author:"Alfred Eisenstaedt"},{quote:"We are making photographs to understand what our lives mean to us.",author:"Ralph Hattersley"},{quote:"A thing that you see in my pictures is that I was not afraid to fall in love with these people.",author:"Annie Leibovitz"},{quote:"You don\u2019t take a photograph. You ask quietly to borrow it.",author:"Unknown"},{quote:"If it excites me, there is a good chance it will make a good photograph.",author:"Ansel Adams"},{quote:"A portrait is not made in the camera but on either side of it.",author:"Edward Steichen"},{quote:"The best thing about a picture is that it never changes, even when the people in it do.",author:"Andy Warhol"},{quote:"Taking pictures is like tiptoeing into the kitchen late at night and stealing Oreo cookies.",author:"Diane Arbus"},{quote:"Essentially what photography is is life lit up.",author:"Sam Abell"},{quote:"I don\u2019t trust words. I trust pictures.",author:"Gilles Peress"}],C=function(e){var t=e.user,a=Object(k.a)(e,["user"]),o=Object(n.useState)(0),c=Object(l.a)(o,2),i=c[0],u=c[1];Object(n.useEffect)((function(){u((function(e){return s(e)}))}),[]);var s=function(e){var t;do{t=Math.floor(Math.random()*x.length)}while(e===t);return t},m="home"===a.type?N:q;return r.a.createElement("div",{className:"title"},r.a.createElement(L,{user:t,handleLogin:a.handleLogin,handleLogout:a.handleLogout,getDocsOfUser:a.getDocsOfUser,clickLogo:a.clickLogo}),r.a.createElement("h2",null,m),r.a.createElement("div",{className:"quote-wrap"},r.a.createElement("p",{className:"quote"},x[i].quote),r.a.createElement("p",{className:"author"},"-- ",x[i].author)))},z=a(0),T=a.n(z),U=a(2),D=function(e,t){var a=Object(n.useState)(0),r=Object(l.a)(a,2),o=r[0],c=r[1],i=Object(n.useState)(null),u=Object(l.a)(i,2),s=u[0],m=u[1],g=Object(n.useState)(null),p=Object(l.a)(g,2),b=p[0],v=p[1];return Object(n.useEffect)((function(){var a=h.ref(e.name),n=d.collection("images");a.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;c(t)}),(function(e){m(e)}),Object(U.a)(T.a.mark((function e(){var r,o,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getDownloadURL();case 2:return r=e.sent,o=f(),c=t.uid,e.next=7,n.add({uid:c,url:r,createdAt:o});case 7:v(r);case 8:case"end":return e.stop()}}),e)}))))}),[e]),{progress:o,url:b,error:s}},B=function(e){var t=e.file,a=e.setFile,o=e.user,c=D(t,o),i=c.progress,l=c.url;return Object(n.useEffect)((function(){l&&a(null)}),[l,a]),r.a.createElement(b.a.div,{className:"progress-bar",initial:{width:0},animate:{width:i+"%"}})},H=function(e){var t=e.user,a=Object(k.a)(e,["user"]),o=Object(n.useState)(null),c=Object(l.a)(o,2),i=c[0],u=c[1],s=Object(n.useState)(null),m=Object(l.a)(s,2),h=m[0],d=m[1];return r.a.createElement("form",null,r.a.createElement("label",{onClick:function(e){t||(a.signInWithGoogle(),e.preventDefault())}},r.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&["image/png","image/jpeg"].includes(t.type)?(u(t),d("")):(u(null),d("Please select an image file (png or jpg)"))}}),r.a.createElement("span",null,"+")),r.a.createElement("div",{className:"output"},h&&r.a.createElement("div",{className:"error"},h),i&&r.a.createElement("div",null,i.name),i&&r.a.createElement(B,{user:t,file:i,setFile:u})))},M=(a(51),function(e){return r.a.createElement("div",{className:"loader",style:e.style})});var W=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),s=Object(l.a)(c,2),m=s[0],h=s[1],f=Object(n.useState)(JSON.parse(localStorage.getItem("user"))),b=Object(l.a)(f,2),v=b[0],E=b[1];Object(n.useEffect)((function(){O("images")}),[]);var O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;h(null),-1===t?d.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(i.a)(Object(i.a)({},e.data()),{},{id:e.id}))})),h(t)})):d.collection(e).where("uid","==",t).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(i.a)(Object(i.a)({},e.data()),{},{id:e.id}))})),h(t)}))},j=function(){Object(u.c)(g,p).then((function(e){var t={uid:e.user.uid,fullname:e.user.displayName,imageUrl:e.user.photoURL};E(t),localStorage.setItem("user",JSON.stringify(t))}))};return r.a.createElement("div",{className:"App"},r.a.createElement(C,{type:"home",user:v,handleLogin:j,handleLogout:function(){localStorage.removeItem("user"),E(null),O("images")},getDocsOfUser:function(){return O("images",v.uid)},clickLogo:function(){return O("images")}}),r.a.createElement(H,{user:v,signInWithGoogle:j}),null==m||0==m.length?r.a.createElement(M,{style:{marginTop:"calc(147px - 22px)"}}):r.a.createElement(y,{docs:m,setSelectedImg:o}),a&&r.a.createElement(w,{selectedImg:a,setSelectedImg:o}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.01656e29.chunk.js.map